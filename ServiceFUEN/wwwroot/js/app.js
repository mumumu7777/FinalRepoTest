(function(){"use strict";var t={7697:function(t,e,n){var a=n(9963),o=n(6252);const s={id:"app"};function l(t,e,n,a,l,i){const r=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(r)])}var i={name:"App",components:{},methods:{}},r=n(3744);const c=(0,r.Z)(i,[["render",l]]);var d=c,u=n(2201),p=n(8433),m=n(3577);const h=t=>((0,o.dD)("data-v-256c3041"),t=t(),(0,o.Cn)(),t),v={class:"row mx-auto"},f={class:"product-card row"},g={class:"col-12"},y={class:"col-12"},b={class:"col-12"},S=["onClick"],w=h((()=>(0,o._)("br",null,null,-1))),C={class:"mt-5"},x={class:"input-group mb-3 form-inline"};function _(t,e,n,s,l,i){const r=(0,o.up)("ShoppingCart"),c=(0,o.up)("router-link"),d=(0,o.up)("VueTwZipCodeSelector"),u=(0,o.up)("loading"),p=(0,o.up)("Layout01");return(0,o.wg)(),(0,o.j4)(p,null,{contents:(0,o.w5)((()=>[(0,o.Wm)(r,{ref:"shoppingCart"},null,512),(0,o._)("div",v,[(0,o._)("div",{class:(0,m.C_)(["text-center",i.customClass()])},"商品:",2),(0,o._)("div",null,[(0,o.Uk)(" 搜尋: "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.searchText=t)},null,512),[[a.nr,l.searchText]]),(0,o._)("button",{class:"pointer",onClick:e[1]||(e[1]=t=>i.search())},"搜尋結果")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.products,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o._)("div",f,[(0,o._)("div",g,"編號: "+(0,m.zw)(e+1),1),(0,o._)("div",y,"商品名稱: "+(0,m.zw)(t.name),1),(0,o._)("div",b,"商品價格: "+(0,m.zw)(t.price),1),(0,o._)("button",{class:"col-1 btn btn-danger pointer",onClick:e=>i.addToCart(t,3)}," 加入一個 ",8,S),w])])))),128)),(0,o._)("div",C,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.cartsSelect,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o._)("div",null,"商品名稱: "+(0,m.zw)(t.name)+" 數量: "+(0,m.zw)(t.qty),1)])))),128))]),(0,o.Wm)(c,{to:l.notFoundLink},{default:(0,o.w5)((()=>[(0,o.Uk)("購物車")])),_:1},8,["to"])]),(0,o._)("div",x,[(0,o.Wm)(d,{onGetSelectedZone:i.getSelectedZone},null,8,["onGetSelectedZone"]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.adressinput=t),type:"text",class:"form-control",onBlur:e[3]||(e[3]=(...t)=>i.getAdressInput&&i.getAdressInput(...t))},null,544),[[a.nr,l.adressinput]])]),(0,o.Wm)(u,{active:l.loading},null,8,["active"])])),_:1})}n(7658);var $={data(){return{notFoundLink:"/notfound",headers:{},products:null,searchText:"",loading:!1,adressval:null,adressinput:""}},setup(){const t=(0,u.tv)(),e=((0,u.yj)(),()=>{t.push("/notfound")});return{toNotFound:e}},mounted(){this.GetProducts()},methods:{goNotFound(){this.toNotFound()},customClass(){return"test"},search(){alert(this.searchText)},async GetProducts(){await this.$axios.get("api/ShoppingCart/GetProducts").then((t=>{t.data&&(this.products=t.data.data,console.log(this.products))})).catch((t=>{console.log(err.response.data)}))},async addToCart(t,e){this.$refs.shoppingCart.addToCart(t,e)},async getSelectedZone(t){this.adressval=JSON.parse(JSON.stringify(t.value)),console.log(this.adressval)},async getAdressInput(){console.log(this.adressinput)}},components:{}};const k=(0,r.Z)($,[["render",_],["__scopeId","data-v-256c3041"]]);var T=k;function I(t,e,n,a,s,l){const i=(0,o.up)("loading"),r=(0,o.up)("Layout01");return(0,o.wg)(),(0,o.j4)(r,null,{contents:(0,o.w5)((()=>[(0,o.Uk)(" 此頁為結帳結果頁，將綠界交易資訊傳回顯示 "),(0,o.Wm)(i,{active:s.loading},null,8,["active"])])),_:1})}var P={data(){return{notFoundLink:"/notfound",loading:!1,trendModels:null,errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const t=(0,u.tv)(),e=((0,u.yj)(),()=>{t.push("/homepage")});return{toHomePage:e}},methods:{},components:{}};const F=(0,r.Z)(P,[["render",I]]);var D=F;const B={class:"test123"};function L(t,e,n,a,s,l){return(0,o.wg)(),(0,o.iD)("div",B,"Not Found 404")}var U={name:"NotFound"};const N=(0,r.Z)(U,[["render",L]]);var A=N;const O=t=>((0,o.dD)("data-v-61c634d2"),t=t(),(0,o.Cn)(),t),R={class:"row mx-auto"},M={class:"product-card row"},j={class:"col-12"},Z={class:"col-12"},W={class:"col-12"},E=["onClick"],V=O((()=>(0,o._)("br",null,null,-1))),Q={class:"mt-5"},H={class:"input-group mb-3 form-inline"};function z(t,e,n,s,l,i){const r=(0,o.up)("ShoppingCart"),c=(0,o.up)("CashView"),d=(0,o.up)("router-link"),u=(0,o.up)("VueTwZipCodeSelector"),p=(0,o.up)("loading"),h=(0,o.up)("Layout01");return(0,o.wg)(),(0,o.j4)(h,null,{contents:(0,o.w5)((()=>[(0,o.Wm)(r,{ref:"shoppingCart"},null,512),(0,o.Wm)(c,{ref:"CashView"},null,512),(0,o._)("div",R,[(0,o._)("div",{class:(0,m.C_)(["text-center",i.customClass()])},"商品:",2),(0,o._)("div",null,[(0,o.Uk)(" 搜尋: "),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.searchText=t)},null,512),[[a.nr,l.searchText]]),(0,o._)("button",{class:"pointer",onClick:e[1]||(e[1]=t=>i.search())},"搜尋結果")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.products,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o._)("div",M,[(0,o._)("div",j,"編號: "+(0,m.zw)(e+1),1),(0,o._)("div",Z,"商品名稱: "+(0,m.zw)(t.name),1),(0,o._)("div",W,"商品價格: "+(0,m.zw)(t.price),1),(0,o._)("button",{class:"col-1 btn btn-danger pointer",onClick:e=>i.addToCart(t,3)}," 加入一個 ",8,E),V])])))),128)),(0,o._)("div",Q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(t.cartsSelect,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.id},[(0,o._)("div",null,"商品名稱: "+(0,m.zw)(t.name)+" 數量: "+(0,m.zw)(t.qty),1)])))),128))]),(0,o.Wm)(d,{to:l.notFoundLink},{default:(0,o.w5)((()=>[(0,o.Uk)("購物車")])),_:1},8,["to"])]),(0,o._)("div",H,[(0,o.Wm)(u,{onGetSelectedZone:i.getSelectedZone},null,8,["onGetSelectedZone"]),(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.adressinput=t),type:"text",class:"form-control",onBlur:e[3]||(e[3]=(...t)=>i.getAdressInput&&i.getAdressInput(...t))},null,544),[[a.nr,l.adressinput]])]),(0,o.Wm)(p,{active:l.loading},null,8,["active"])])),_:1})}const G=t=>((0,o.dD)("data-v-13668088"),t=t(),(0,o.Cn)(),t),J={class:"container mt-4 p-0"},K={class:"row px-md-4 px-2 pt-4"},Y={class:"col-lg-8"},q=G((()=>(0,o._)("p",{class:"pb-2 fw-bold"},"Order",-1))),X={class:"card"},tt={class:"table-responsive px-md-4 px-2 pt-3"},et={class:"table table-borderless"},nt=G((()=>(0,o._)("tr",{class:""},[(0,o._)("td",null,[(0,o._)("div",{class:"d-flex align-items-center"},[(0,o._)("div",null,[(0,o._)("img",{class:"pic",src:"https://images.pexels.com/photos/7322083/pexels-photo-7322083.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""})]),(0,o._)("div",{class:"ps-3 d-flex flex-column"},[(0,o._)("p",{class:"fw-bold"},[(0,o.Uk)(" Sportswear"),(0,o._)("span",{class:"ps-1"},"Heritage"),(0,o._)("span",{class:"ps-1"},"Windrunner")])])])]),(0,o._)("td",null,[(0,o._)("div",{class:"d-flex align-items-center"},[(0,o._)("span",{class:"pe-3 text-muted"},"數量"),(0,o._)("span",{class:"pe-3"},[(0,o._)("input",{class:"ps-2",type:"number",value:"2"})])])])],-1))),at={class:"d-flex align-items-center"},ot=G((()=>(0,o._)("div",null,[(0,o._)("img",{class:"pic",src:"https://images.pexels.com/photos/7322083/pexels-photo-7322083.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500",alt:""})],-1))),st={class:"ps-3 d-flex flex-column"},lt={class:"fw-bold ps-1"},it={class:"d-flex align-items-center"},rt=G((()=>(0,o._)("span",{class:"pe-3 text-muted"},"數量",-1))),ct={class:"btn btn-link px-2 pointer"},dt={class:"pe-3"},ut=["onUpdate:modelValue","onBlur"],pt={class:"btn btn-link px-2 pointer"},mt=(0,o.uE)('<div class="col-lg-4 payment-summary" data-v-13668088><p class="fw-bold pt-lg-0 pt-4 pb-2" data-v-13668088>購買資訊</p><div class="card px-md-3 px-2 pt-4" data-v-13668088><div class="unregistered mb-4" data-v-13668088><span class="py-1" data-v-13668088>unregistered account</span></div><div class="d-flex justify-content-between pb-3" data-v-13668088><small class="text-muted" data-v-13668088>Transaction code</small><p class="" data-v-13668088>VC115665</p></div><div class="d-flex justify-content-between b-bottom" data-v-13668088><input type="text" class="ps-2" placeholder="COUPON CODE" data-v-13668088><div class="btn btn-primary" data-v-13668088>Apply</div></div><div class="d-flex flex-column b-bottom" data-v-13668088><div class="d-flex justify-content-between py-3" data-v-13668088><small class="text-muted" data-v-13668088>Order Summary</small><p data-v-13668088>$122</p></div><div class="d-flex justify-content-between pb-3" data-v-13668088><small class="text-muted" data-v-13668088>Additional Service</small><p data-v-13668088>$22</p></div><div class="d-flex justify-content-between" data-v-13668088><small class="text-muted" data-v-13668088>Total Amount</small><p data-v-13668088>$132</p></div></div><div class="sale my-3" data-v-13668088><span data-v-13668088>sale<span class="px-1" data-v-13668088>expiring</span><span data-v-13668088>in</span>:</span><span class="red" data-v-13668088>21<span class="ps-1" data-v-13668088>hours</span>,31<span class="ps-1" data-v-13668088>minutes</span></span></div></div></div>',1);function ht(t,e,n,s,l,i){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("div",J,[(0,o._)("div",K,[(0,o._)("div",Y,[q,(0,o._)("div",X,[(0,o._)("div",null,[(0,o._)("div",tt,[(0,o._)("table",et,[(0,o._)("tbody",null,[nt,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.cartsSelect,((t,e)=>((0,o.wg)(),(0,o.iD)("tr",{class:"",key:t.Id},[(0,o._)("td",null,[(0,o._)("div",at,[ot,(0,o._)("div",st,[(0,o._)("p",lt,(0,m.zw)(t.Name),1)])])]),(0,o._)("td",null,[(0,o._)("div",it,[rt,(0,o._)("button",ct,[(0,o.Wm)(r,{icon:"fas fa-minus",onClick:(0,a.iM)((n=>i.addToCart(t,1,`.count-input-${e}`)),["stop"])},null,8,["onClick"])]),(0,o._)("span",dt,[(0,o.wy)((0,o._)("input",{class:(0,m.C_)(["form-control form-control-sm ps-2",`count-input-${e}`]),min:"0",default:"1","onUpdate:modelValue":e=>t.Qty=e,type:"number",onBlur:(0,a.iM)((n=>i.addToCart(t,2,`.count-input-${e}`)),["stop"])},null,42,ut),[[a.nr,t.Qty]])]),(0,o._)("button",pt,[(0,o.Wm)(r,{icon:"fas fa-plus",onClick:(0,a.iM)((n=>i.addToCart(t,0,`.count-input-${e}`)),["stop"])},null,8,["onClick"])])])])])))),128))])])])])])]),mt])])}var vt={data(){return{notFoundLink:"/notfound",headers:{},products:null,cartsSelect:[],searchText:"",paymentForm:"",loading:!1,delSweetConfirm:{title:"要刪除此項目嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff7674",cancelButtonColor:"#777",confirmButtonText:"刪除",cancelButtonText:"取消"},buySweetConfirm:{title:"確定要購買嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#41b882",cancelButtonColor:"#777",confirmButtonText:"購買",cancelButtonText:"取消"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"},errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const t=(0,u.tv)(),e=((0,u.yj)(),()=>{t.push("/notfound")});return{toNotFound:e}},mounted(){this.getStorageCart()},computed:{getTotal(){if(this.cartsSelect.length>0){let t=this.cartsSelect.map((t=>t.Price*t.Qty)).reduce(((t,e)=>t+e));return t}}},methods:{saveLocalStorage(t,e){localStorage.setItem(t,JSON.stringify(e))},getlocalStorage(t){this[t]=JSON.parse(localStorage.getItem(t))},goNotFound(){this.toNotFound()},getStorageCart(){this.getlocalStorage("cartsSelect"),this.cartsSelect||(this.cartsSelect=[])},rmStorageCart(){localStorage.removeItem("cartsSelect"),this.cartsSelect=[]},async addToCart(t,e,n){if(3!=e){let a=document.querySelector(n),o=a.value,s=this.cartsSelect.indexOf(t);if(console.log("findIndex",s),console.log("input",a),console.log("count",o),1==e&&1==o)return void this.removeCartItem(t);if(2==e&&0==o)return void this.removeCartItem(t,!0);switch(e){case 0:this.cartsSelect[s].Qty++;break;case 1:this.cartsSelect[s].Qty--;break;case 2:this.cartsSelect[s].Qty=o;break}this.saveLocalStorage("cartsSelect",this.cartsSelect)}else{let e=this.cartsSelect.find((e=>e.Id==t.id));if(console.log("findProduct add",e),e){let t=this.cartsSelect.indexOf(e);this.cartsSelect[t].Qty++}else this.cartsSelect.push({Id:t.id,Qty:1,Name:t.name,Price:t.price});this.saveLocalStorage("cartsSelect",this.cartsSelect)}console.log(this.cartsSelect)},async removeCartItem(t,e){let n=this.cartsSelect.indexOf(t);n>-1&&this.$swal.fire(this.delSweetConfirm).then((t=>{t.isConfirmed?(this.cartsSelect.splice(n,1),this.saveLocalStorage("cartsSelect",this.cartsSelect)):e&&this.getlocalStorage("cartsSelect")}))},async cartSubmit(){await this.$swal.fire(this.buySweetConfirm).then((t=>{if(t.isConfirmed){let t={MemberId:1,State:0,CartProducts:Array.from(this.cartsSelect)};this.loading=!0,this.$axios.post("api/ShoppingCart/SaveShoppingCart",t).then((t=>{204!=t.status&&200!=t.status||null!==t.data&void 0!==t.data&&(this.rmStorageCart(),this.successSweetAlert.text=t.data.messsage,this.$swal.fire(this.successSweetAlert),this.successSweetAlert.text="",this.paymentForm=this.buildPaymentForm(t.data.data.formData),this.loading=!1,this.$nextTick((()=>{document.getElementById("payment").submit(),this.paymentForm=""})))})).catch((t=>{console.log(t.response.data),this.errSweetAlert.text=t.response.data.messsage||"其他錯誤",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text="",this.loading=!1}))}}))},buildPaymentForm(t){let e="";return e+=`<form action="${t.url}" method="post" id="payment">`,e+=`<input type="hidden" name="MerchantID" value="${t.merchantID}"/>`,e+=`<input type="hidden" name="MerchantTradeNo" value="${t.merchantTradeNo}"/>`,e+=`<input type="hidden" name="MerchantTradeDate" value="${t.merchantTradeDate}"/>`,e+=`<input type="hidden" name="PaymentType" value="${t.paymentType}"/>`,e+=`<input type="hidden" name="TotalAmount" value="${t.totalAmount}"/>`,e+=`<input type="hidden" name="TradeDesc" value="${t.tradeDesc}"/>`,e+=`<input type="hidden" name="ItemName" value="${t.itemName}"/>`,e+=`<input type="hidden" name="ReturnURL" value="${t.returnURL}"/>`,e+=`<input type="hidden" name="ChoosePayment" value="${t.choosePayment}"/>`,e+=`<input type="hidden" name="CheckMacValue" value="${t.checkMacValue}"/>`,e+=`<input type="hidden" name="EncryptType" value="${t.encryptType}"/>`,t.storeID&&(e+=`<input type="hidden" name="StoreID" value="${t.storeID}"/>`),t.clientBackURL&&(e+=`<input type="hidden" name="ClientBackURL" value="${t.clientBackURL}"/>`),t.itemURL&&(e+=`<input type="hidden" name="ItemURL" value="${t.itemURL}"/>`),t.remark&&(e+=`<input type="hidden" name="Remark" value="${t.remark}"/>`),t.chooseSubPayment&&(e+=`<input type="hidden" name="ChooseSubPayment" value="${t.chooseSubPayment}"/>`),t.orderResultURL&&(e+=`<input type="hidden" name="OrderResultURL" value="${t.orderResultURL}"/>`),t.needExtraPaidInfo&&(e+=`<input type="hidden" name="NeedExtraPaidInfo" value="${t.needExtraPaidInfo}"/>`),t.ignorePayment&&(e+=`<input type="hidden" name="IgnorePayment" value="${t.ignorePayment}"/>`),t.platformID&&(e+=`<input type="hidden" name="PlatformID" value="${t.platformID}"/>`),t.invoiceMark&&(e+=`<input type="hidden" name="InvoiceMark" value="${t.invoiceMark}"/>`),t.customField1&&(e+=`<input type="hidden" name="CustomField1" value="${t.customField1}"/>`),t.customField2&&(e+=`<input type="hidden" name="CustomField2" value="${t.customField2}"/>`),t.customField3&&(e+=`<input type="hidden" name="CustomField3" value="${t.customField3}"/>`),t.customField4&&(e+=`<input type="hidden" name="CustomField4" value="${t.customField4}"/>`),t.language&&(e+=`<input type="hidden" name="Language" value="${t.language}"/>`),t.unionPay&&(e+=`<input type="hidden" name="UnionPay" value="${t.unionPay}"/>`),e+="</form>",e}},components:{}};const ft=(0,r.Z)(vt,[["render",ht],["__scopeId","data-v-13668088"]]);var gt=ft,yt={data(){return{notFoundLink:"/notfound",headers:{},products:null,searchText:"",loading:!1,adressval:null,adressinput:""}},setup(){const t=(0,u.tv)(),e=((0,u.yj)(),()=>{t.push("/notfound")});return{toNotFound:e}},mounted(){this.GetProducts()},methods:{goNotFound(){this.toNotFound()},customClass(){return"test"},search(){alert(this.searchText)},async GetProducts(){await this.$axios.get("api/ShoppingCart/GetProducts").then((t=>{t.data&&(this.products=t.data.data,console.log(this.products))})).catch((t=>{console.log(err.response.data)}))},async addToCart(t,e){this.$refs.shoppingCart.addToCart(t,e)},async getSelectedZone(t){this.adressval=JSON.parse(JSON.stringify(t.value)),console.log(this.adressval)},async getAdressInput(){console.log(this.adressinput)}},components:{}};const bt=(0,r.Z)(yt,[["render",z],["__scopeId","data-v-61c634d2"]]);var St=bt;p.Z.defaults.baseURL="/";const wt=[{path:"/",redirect:"/Homepage2"},{path:"/homepage",component:T,name:"homepage"},{path:"/checkoutreport",component:D,name:"checkoutreport"},{path:"/Homepage2",component:St,name:"Homepage2"},{path:"/:pathMatch(.*)*",name:"NotFound",component:A,props:t=>t.params}],Ct=(0,u.p7)({history:(0,u.PO)(),routes:wt});Ct.afterEach(((t,e)=>{let n=document.body.scrollTop;if(0!==n)return void(document.body.scrollTop=0);let a=document.documentElement.scrollTop;0!==a&&(document.documentElement.scrollTop=0)}));var xt=Ct,_t=(n(8877),n(3636)),$t=n(7810),kt=n(9417),Tt=n(3982),It=n.n(Tt),Pt=n(2369),Ft=n.n(Pt);const Dt=t=>((0,o.dD)("data-v-4d8c17d6"),t=t(),(0,o.Cn)(),t),Bt={class:"container-fluid layout01 px-0"},Lt=Dt((()=>(0,o._)("div",{class:"header w-100"},"網頁Header",-1))),Ut=Dt((()=>(0,o._)("div",{class:"footer w-100"},"網頁Footer",-1)));function Nt(t,e,n,a,s,l){return(0,o.wg)(),(0,o.iD)("div",Bt,[Lt,(0,o.WI)(t.$slots,"contents",{class:"body w-100"},void 0,!0),Ut])}var At={components:{}};const Ot=(0,r.Z)(At,[["render",Nt],["__scopeId","data-v-4d8c17d6"]]);var Rt=Ot;const Mt=t=>((0,o.dD)("data-v-2af56bc6"),t=t(),(0,o.Cn)(),t),jt={class:"row d-flex justify-content-center align-items-center h-100 w-75 mt-5 mx-auto"},Zt={class:"col-10"},Wt=(0,o.uE)('<div class="d-flex justify-content-between align-items-center mb-4" data-v-2af56bc6><h3 class="fw-normal mb-0 text-black" data-v-2af56bc6>Shopping Cart</h3><div data-v-2af56bc6><p class="mb-0" data-v-2af56bc6><span class="text-muted" data-v-2af56bc6>Sort by:</span><a class="text-body" data-v-2af56bc6>price <i class="fas fa-angle-down mt-1" data-v-2af56bc6></i></a></p></div></div>',1),Et={class:"card rounded-3 mb-4"},Vt={class:"card-body p-4"},Qt=Mt((()=>(0,o._)("div",{class:"col-md-2 col-lg-2 col-xl-2"},[(0,o._)("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp",class:"img-fluid rounded-3",alt:"Cotton T-shirt"})],-1))),Ht={class:"col-md-3 col-lg-3 col-xl-3"},zt={class:"lead fw-normal mb-2"},Gt={class:"col-md-3 col-lg-3 col-xl-2 d-flex"},Jt={class:"btn btn-link px-2 pointer"},Kt=["onUpdate:modelValue","onBlur"],Yt={class:"btn btn-link px-2 pointer"},qt={class:"col-md-3 col-lg-2 col-xl-2 offset-lg-1"},Xt={class:"mb-0"},te={class:"col-md-1 col-lg-1 col-xl-1 text-end pointer"},ee=["onClick"],ne=(0,o.uE)('<div class="card mb-4" data-v-2af56bc6><div class="card-body p-4 d-flex flex-row" data-v-2af56bc6><div class="form-outline flex-fill" data-v-2af56bc6><input type="text" id="form1" class="form-control form-control-lg" data-v-2af56bc6><label class="form-label" for="form1" data-v-2af56bc6>Discound code</label></div><button type="button" class="btn btn-outline-warning btn-lg ms-3" data-v-2af56bc6> Apply </button></div></div>',1),ae={class:"card"},oe={class:"card-body"},se={class:"btn btn-lg d-inline-block float-start",style:{"pointer-events":"none"}},le=["innerHTML"];function ie(t,e,n,s,l,i){const r=(0,o.up)("font-awesome-icon"),c=(0,o.up)("loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",jt,[(0,o._)("div",Zt,[Wt,(0,o._)("div",Et,[(0,o._)("div",Vt,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.cartsSelect,((t,e)=>((0,o.wg)(),(0,o.iD)("div",{class:"row mt-3 d-flex justify-content-between align-items-center",key:t.Id},[Qt,(0,o._)("div",Ht,[(0,o._)("p",zt,(0,m.zw)(t.Name),1)]),(0,o._)("div",Gt,[(0,o._)("button",Jt,[(0,o.Wm)(r,{icon:"fas fa-minus",onClick:(0,a.iM)((n=>i.addToCart(t,1,`.count-input-${e}`)),["stop"])},null,8,["onClick"])]),(0,o.wy)((0,o._)("input",{class:(0,m.C_)(["form-control form-control-sm",`count-input-${e}`]),min:"0",default:"1","onUpdate:modelValue":e=>t.Qty=e,type:"number",onBlur:(0,a.iM)((n=>i.addToCart(t,2,`.count-input-${e}`)),["stop"])},null,42,Kt),[[a.nr,t.Qty]]),(0,o._)("button",Yt,[(0,o.Wm)(r,{icon:"fas fa-plus",onClick:(0,a.iM)((n=>i.addToCart(t,0,`.count-input-${e}`)),["stop"])},null,8,["onClick"])])]),(0,o._)("div",qt,[(0,o._)("h5",Xt,"$"+(0,m.zw)(t.Price*t.Qty),1)]),(0,o._)("div",te,[(0,o._)("a",{class:"text-danger",onClick:(0,a.iM)((e=>i.removeCartItem(t)),["stop"])},[(0,o.Wm)(r,{icon:"fas fa-trash"})],8,ee)])])))),128))])]),ne,(0,o._)("div",ae,[(0,o._)("div",oe,[(0,o._)("span",se," 總金額: "+(0,m.zw)(this.getTotal),1),(0,o._)("button",{type:"button",class:"btn btn-warning btn-block btn-lg pointer float-end",onClick:e[0]||(e[0]=(0,a.iM)(((...t)=>i.cartSubmit&&i.cartSubmit(...t)),["stop"]))}," 購買 ")])])])]),(0,o._)("div",{innerHTML:l.paymentForm},null,8,le),(0,o.Wm)(c,{active:l.loading},null,8,["active"])],64)}var re={data(){return{notFoundLink:"/notfound",headers:{},products:null,cartsSelect:[],searchText:"",paymentForm:"",loading:!1,delSweetConfirm:{title:"要刪除此項目嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff7674",cancelButtonColor:"#777",confirmButtonText:"刪除",cancelButtonText:"取消"},buySweetConfirm:{title:"確定要購買嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#41b882",cancelButtonColor:"#777",confirmButtonText:"購買",cancelButtonText:"取消"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"},errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const t=(0,u.tv)(),e=((0,u.yj)(),()=>{t.push("/notfound")});return{toNotFound:e}},mounted(){this.getStorageCart()},computed:{getTotal(){if(this.cartsSelect.length>0){let t=this.cartsSelect.map((t=>t.Price*t.Qty)).reduce(((t,e)=>t+e));return t}}},methods:{saveLocalStorage(t,e){localStorage.setItem(t,JSON.stringify(e))},getlocalStorage(t){this[t]=JSON.parse(localStorage.getItem(t))},goNotFound(){this.toNotFound()},getStorageCart(){this.getlocalStorage("cartsSelect"),this.cartsSelect||(this.cartsSelect=[])},rmStorageCart(){localStorage.removeItem("cartsSelect"),this.cartsSelect=[]},async addToCart(t,e,n){if(3!=e){let a=document.querySelector(n),o=a.value,s=this.cartsSelect.indexOf(t);if(console.log("findIndex",s),console.log("input",a),console.log("count",o),1==e&&1==o)return void this.removeCartItem(t);if(2==e&&0==o)return void this.removeCartItem(t,!0);switch(e){case 0:this.cartsSelect[s].Qty++;break;case 1:this.cartsSelect[s].Qty--;break;case 2:this.cartsSelect[s].Qty=o;break}this.saveLocalStorage("cartsSelect",this.cartsSelect)}else{let e=this.cartsSelect.find((e=>e.Id==t.id));if(console.log("findProduct add",e),e){let t=this.cartsSelect.indexOf(e);this.cartsSelect[t].Qty++}else this.cartsSelect.push({Id:t.id,Qty:1,Name:t.name,Price:t.price});this.saveLocalStorage("cartsSelect",this.cartsSelect)}console.log(this.cartsSelect)},async removeCartItem(t,e){let n=this.cartsSelect.indexOf(t);n>-1&&this.$swal.fire(this.delSweetConfirm).then((t=>{t.isConfirmed?(this.cartsSelect.splice(n,1),this.saveLocalStorage("cartsSelect",this.cartsSelect)):e&&this.getlocalStorage("cartsSelect")}))},async cartSubmit(){await this.$swal.fire(this.buySweetConfirm).then((t=>{if(t.isConfirmed){let t={MemberId:1,State:0,CartProducts:Array.from(this.cartsSelect)};this.loading=!0,this.$axios.post("api/ShoppingCart/SaveShoppingCart",t).then((t=>{204!=t.status&&200!=t.status||null!==t.data&void 0!==t.data&&(this.rmStorageCart(),this.successSweetAlert.text=t.data.messsage,this.$swal.fire(this.successSweetAlert),this.successSweetAlert.text="",this.paymentForm=this.buildPaymentForm(t.data.data.formData),this.loading=!1,this.$nextTick((()=>{document.getElementById("payment").submit(),this.paymentForm=""})))})).catch((t=>{console.log(t.response.data),this.errSweetAlert.text=t.response.data.messsage||"其他錯誤",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text="",this.loading=!1}))}}))},buildPaymentForm(t){let e="";return e+=`<form action="${t.url}" method="post" id="payment">`,e+=`<input type="hidden" name="MerchantID" value="${t.merchantID}"/>`,e+=`<input type="hidden" name="MerchantTradeNo" value="${t.merchantTradeNo}"/>`,e+=`<input type="hidden" name="MerchantTradeDate" value="${t.merchantTradeDate}"/>`,e+=`<input type="hidden" name="PaymentType" value="${t.paymentType}"/>`,e+=`<input type="hidden" name="TotalAmount" value="${t.totalAmount}"/>`,e+=`<input type="hidden" name="TradeDesc" value="${t.tradeDesc}"/>`,e+=`<input type="hidden" name="ItemName" value="${t.itemName}"/>`,e+=`<input type="hidden" name="ReturnURL" value="${t.returnURL}"/>`,e+=`<input type="hidden" name="ChoosePayment" value="${t.choosePayment}"/>`,e+=`<input type="hidden" name="CheckMacValue" value="${t.checkMacValue}"/>`,e+=`<input type="hidden" name="EncryptType" value="${t.encryptType}"/>`,t.storeID&&(e+=`<input type="hidden" name="StoreID" value="${t.storeID}"/>`),t.clientBackURL&&(e+=`<input type="hidden" name="ClientBackURL" value="${t.clientBackURL}"/>`),t.itemURL&&(e+=`<input type="hidden" name="ItemURL" value="${t.itemURL}"/>`),t.remark&&(e+=`<input type="hidden" name="Remark" value="${t.remark}"/>`),t.chooseSubPayment&&(e+=`<input type="hidden" name="ChooseSubPayment" value="${t.chooseSubPayment}"/>`),t.orderResultURL&&(e+=`<input type="hidden" name="OrderResultURL" value="${t.orderResultURL}"/>`),t.needExtraPaidInfo&&(e+=`<input type="hidden" name="NeedExtraPaidInfo" value="${t.needExtraPaidInfo}"/>`),t.ignorePayment&&(e+=`<input type="hidden" name="IgnorePayment" value="${t.ignorePayment}"/>`),t.platformID&&(e+=`<input type="hidden" name="PlatformID" value="${t.platformID}"/>`),t.invoiceMark&&(e+=`<input type="hidden" name="InvoiceMark" value="${t.invoiceMark}"/>`),t.customField1&&(e+=`<input type="hidden" name="CustomField1" value="${t.customField1}"/>`),t.customField2&&(e+=`<input type="hidden" name="CustomField2" value="${t.customField2}"/>`),t.customField3&&(e+=`<input type="hidden" name="CustomField3" value="${t.customField3}"/>`),t.customField4&&(e+=`<input type="hidden" name="CustomField4" value="${t.customField4}"/>`),t.language&&(e+=`<input type="hidden" name="Language" value="${t.language}"/>`),t.unionPay&&(e+=`<input type="hidden" name="UnionPay" value="${t.unionPay}"/>`),e+="</form>",e}},components:{}};const ce=(0,r.Z)(re,[["render",ie],["__scopeId","data-v-2af56bc6"]]);var de=ce,ue=n(2401);_t.vI.add(kt.BC0,kt.wp6,kt.r8p,kt.Kl4,kt.$aW);const pe={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"},me=(0,a.ri)(d);me.component("font-awesome-icon",$t.GN).component("Loading",Ft()).component("Layout01",Rt).component("ShoppingCart",de).component("CashView",gt).use(It(),pe).use(ue.Z).use(xt).mount("#app"),p.Z.defaults.baseURL="/",me.config.globalProperties.$axios=p.Z}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var s=e[a]={exports:{}};return t[a].call(s.exports,s,s.exports,n),s.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,s){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],o=t[d][1],s=t[d][2];for(var i=!0,r=0;r<a.length;r++)(!1&s||l>=s)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(i=!1,s<l&&(l=s));if(i){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[a,o,s]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,s,l=a[0],i=a[1],r=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(r)var d=r(n)}for(e&&e(a);c<l.length;c++)s=l[c],n.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return n.O(d)},a=self["webpackChunkvuetest"]=self["webpackChunkvuetest"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(7697)}));a=n.O(a)})();