(function(){"use strict";var t={150:function(t,a,o){var e=o(9963),n=o(6252);const s={id:"app"};function c(t,a,o,e,c,r){const l=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n.Wm)(l)])}var r={name:"App",components:{},methods:{}},l=o(3744);const i=(0,l.Z)(r,[["render",c]]);var d=i,u=o(2201),p=o(8433),m=o(3577);const f=t=>((0,n.dD)("data-v-023c51a5"),t=t(),(0,n.Cn)(),t),v={class:"h-100",style:{"background-color":"#eee"}},h={class:"container h-100 py-5"},b={class:"row d-flex justify-content-center align-items-center h-100"},g={class:"col-10"},y=(0,n.uE)('<div class="d-flex justify-content-between align-items-center mb-4" data-v-023c51a5><h3 class="fw-normal mb-0 text-black" data-v-023c51a5>Shopping Cart</h3><div data-v-023c51a5><p class="mb-0" data-v-023c51a5><span class="text-muted" data-v-023c51a5>Sort by:</span><a href="#!" class="text-body" data-v-023c51a5>price <i class="fas fa-angle-down mt-1" data-v-023c51a5></i></a></p></div></div>',1),w={class:"card rounded-3 mb-4"},_={key:0,class:"card-body p-4"},x=f((()=>(0,n._)("div",{class:"col-md-2 col-lg-2 col-xl-2"},[(0,n._)("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp",class:"img-fluid rounded-3",alt:"Cotton T-shirt"})],-1))),C={class:"col-md-3 col-lg-3 col-xl-3"},k={class:"lead fw-normal mb-2"},S={class:"col-md-3 col-lg-3 col-xl-2 d-flex"},T={class:"btn btn-link px-2"},O=["onUpdate:modelValue","onBlur"],P={class:"btn btn-link px-2"},j=f((()=>(0,n._)("div",{class:"col-md-3 col-lg-2 col-xl-2 offset-lg-1"},[(0,n._)("h5",{class:"mb-0"},"$100")],-1))),D={class:"col-md-1 col-lg-1 col-xl-1 text-end"},$={href:"#!",class:"text-danger"},U=(0,n.uE)('<div class="card mb-4" data-v-023c51a5><div class="card-body p-4 d-flex flex-row" data-v-023c51a5><div class="form-outline flex-fill" data-v-023c51a5><input type="text" id="form1" class="form-control form-control-lg" data-v-023c51a5><label class="form-label" for="form1" data-v-023c51a5>Discound code</label></div><button type="button" class="btn btn-outline-warning btn-lg ms-3" data-v-023c51a5> Apply </button></div></div>',1),F={class:"card"},M={class:"card-body"},N={class:"container-fluid"},W={class:"product-card row"},G={class:"col-12"},I={class:"col-12"},q={class:"col-12"},z=["onClick"],A=f((()=>(0,n._)("br",null,null,-1))),E={class:"mt-5"};function Z(t,a,o,s,c,r){const l=(0,n.up)("font-awesome-icon"),i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("section",v,[(0,n._)("div",h,[(0,n._)("div",b,[(0,n._)("div",g,[y,(0,n._)("div",w,[c.cartItemRender?((0,n.wg)(),(0,n.iD)("div",_,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.cartsSelect,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{class:"row d-flex justify-content-between align-items-center",key:t.id},[x,(0,n._)("div",C,[(0,n._)("p",k,(0,m.zw)(t.name),1)]),(0,n._)("div",S,[(0,n._)("button",T,[(0,n.Wm)(l,{icon:"fas fa-minus",onClick:(0,e.iM)((o=>r.addToCart(t,1,`.count-input-${a}`)),["stop"])},null,8,["onClick"])]),(0,n.wy)((0,n._)("input",{class:(0,m.C_)(["form-control form-control-sm",`count-input-${a}`]),min:"0","onUpdate:modelValue":a=>t.qty=a,type:"number",onBlur:(0,e.iM)((o=>r.addToCart(t,2,`.count-input-${a}`)),["stop"])},null,42,O),[[e.nr,t.qty]]),(0,n._)("button",P,[(0,n.Wm)(l,{icon:"fas fa-plus",onClick:(0,e.iM)((o=>r.addToCart(t,0,`.count-input-${a}`)),["stop"])},null,8,["onClick"])])]),j,(0,n._)("div",D,[(0,n._)("a",$,[(0,n.Wm)(l,{icon:"fas fa-trash"})])])])))),128))])):(0,n.kq)("",!0)]),U,(0,n._)("div",F,[(0,n._)("div",M,[(0,n._)("button",{type:"button",class:"btn btn-warning btn-block btn-lg",onClick:a[0]||(a[0]=(0,e.iM)(((...t)=>r.cartSubmit&&r.cartSubmit(...t)),["stop"]))}," Proceed to Pay ")])])])])])]),(0,n._)("div",N,[(0,n._)("div",{class:(0,m.C_)(["text-center test123",r.customClass()])},"商品:",2),(0,n._)("div",null,[(0,n.Uk)(" 搜尋: "),(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=t=>c.searchText=t)},null,512),[[e.nr,c.searchText]]),(0,n._)("button",{onClick:a[2]||(a[2]=t=>r.search())},"搜尋結果")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.products,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("div",W,[(0,n._)("div",G,"編號: "+(0,m.zw)(a+1),1),(0,n._)("div",I,"商品名稱: "+(0,m.zw)(t.name),1),(0,n._)("div",q,"商品價格: "+(0,m.zw)(t.price),1),(0,n._)("button",{class:"col-1 btn btn-danger",onClick:a=>r.addToCart(t,0)}," 加入一個 ",8,z),A])])))),128)),(0,n._)("div",E,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(c.cartsSelect,((t,a)=>((0,n.wg)(),(0,n.iD)("div",{key:t.id},[(0,n._)("div",null,"商品名稱: "+(0,m.zw)(t.name)+" 數量: "+(0,m.zw)(t.qty),1)])))),128))]),(0,n.Wm)(l,{icon:"fa-solid fa-house"}),(0,n.Wm)(l,{icon:"fa-solid fa-user-secret"}),(0,n.Wm)(i,{to:c.notFoundLink},{default:(0,n.w5)((()=>[(0,n.Uk)("購物車")])),_:1},8,["to"])])],64)}o(7658);var H={data(){return{notFoundLink:"/notfound",headers:{},products:null,cartsSelect:[],searchText:"",cartItemRender:!0}},setup(){const t=(0,u.tv)(),a=((0,u.yj)(),()=>{t.push("/notfound")});return{toNotFound:a}},mounted(){this.GetProducts(),this.GetUsrCart()},methods:{search(){alert(this.searchText)},goNotFound(){this.toNotFound()},customClass(){return"test"},async GetProducts(){await this.$axios.get("api/ShoppingCart/GetProducts").then((t=>{t.data&&(this.products=t.data.data,console.log(this.products))})).catch((t=>{console.log(err.response.data)}))},async GetUsrCart(){await this.$axios.get("api/ShoppingCart/GetUserCart?userId=1").then((t=>{t.data&&(this.cartsSelect=Array.from(t.data.data))})).catch((t=>{console.log(err.response.data)}))},async cartSubmit(){let t={MemberId:1,State:0,CartProducts:Array.from(this.cartsSelect)};await this.$axios.post("api/ShoppingCart/SaveShoppingCart",t).then((t=>{204!=t.status&&200!=t.status||null!==t.data&void 0!==t.data&&console.log(t.data)})).catch((t=>{console.log(t.response.data),alert(t.response.data.messsage)}))},async addToCart(t,a,o){let e=document.querySelector(o),n=document.querySelector(o).value,s=1;if(1==a&&1==n)return void alert("數量不得為零");if(2==a&&0==n)return e.value=1,void alert("數量不得為零");2==a&&(s=n);let c={Id:t.id,Qty:s,Name:t.name};await this.$axios.post(`api/ShoppingCart/AddToCart/1/${a}`,c).then((t=>{204!=t.status&&200!=t.status||null!==t.data&void 0!==t.data&&(this.cartsSelect=Array.from(t.data.data),alert(t.data.messsage),location.href="homepage")})).catch((t=>{console.log(t.response.data),alert(t.response.data.messsage)}))}},components:{}};const K=(0,l.Z)(H,[["render",Z],["__scopeId","data-v-023c51a5"]]);var L=K;const R={class:"test123"};function Y(t,a,o,e,s,c){return(0,n.wg)(),(0,n.iD)("div",R,"Not Found 404")}var B={name:"NotFound"};const V=(0,l.Z)(B,[["render",Y]]);var Q=V;p.Z.defaults.baseURL="/";const J=[{path:"/",redirect:"/homepage"},{path:"/homepage",component:L,name:"homepage"},{path:"/:pathMatch(.*)*",name:"NotFound",component:Q,props:t=>t.params}],X=(0,u.p7)({history:(0,u.PO)(),routes:J});X.afterEach(((t,a)=>{let o=document.body.scrollTop;if(0!==o)return void(document.body.scrollTop=0);let e=document.documentElement.scrollTop;0!==e&&(document.documentElement.scrollTop=0)}));var tt=X,at=(o(8877),o(3636)),ot=o(7810),et=o(9417);at.vI.add(et.BC0,et.wp6,et.r8p,et.Kl4,et.$aW);const nt=(0,e.ri)(d);nt.component("font-awesome-icon",ot.GN).use(tt).mount("#app"),p.Z.defaults.baseURL="/",nt.config.globalProperties.$axios=p.Z}},a={};function o(e){var n=a[e];if(void 0!==n)return n.exports;var s=a[e]={exports:{}};return t[e](s,s.exports,o),s.exports}o.m=t,function(){var t=[];o.O=function(a,e,n,s){if(!e){var c=1/0;for(d=0;d<t.length;d++){e=t[d][0],n=t[d][1],s=t[d][2];for(var r=!0,l=0;l<e.length;l++)(!1&s||c>=s)&&Object.keys(o.O).every((function(t){return o.O[t](e[l])}))?e.splice(l--,1):(r=!1,s<c&&(c=s));if(r){t.splice(d--,1);var i=n();void 0!==i&&(a=i)}}return a}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[e,n,s]}}(),function(){o.d=function(t,a){for(var e in a)o.o(a,e)&&!o.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:a[e]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};o.O.j=function(a){return 0===t[a]};var a=function(a,e){var n,s,c=e[0],r=e[1],l=e[2],i=0;if(c.some((function(a){return 0!==t[a]}))){for(n in r)o.o(r,n)&&(o.m[n]=r[n]);if(l)var d=l(o)}for(a&&a(e);i<c.length;i++)s=c[i],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(d)},e=self["webpackChunkvuetest"]=self["webpackChunkvuetest"]||[];e.forEach(a.bind(null,0)),e.push=a.bind(null,e.push.bind(e))}();var e=o.O(void 0,[998],(function(){return o(150)}));e=o.O(e)})();