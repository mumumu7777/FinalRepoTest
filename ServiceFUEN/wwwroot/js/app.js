(function(){"use strict";var e={5580:function(e,t,n){var o=n(9963),a=n(6252);const l={id:"app"};function r(e,t,n,o,r,s){const i=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",l,[(0,a.Wm)(i)])}var s={name:"App",components:{},methods:{}},i=n(3744);const d=(0,i.Z)(s,[["render",r]]);var c=d,u=n(2201),m=n(8433),p=n(3577);const h=e=>((0,a.dD)("data-v-224c39b0"),e=e(),(0,a.Cn)(),e),v={class:"row mx-auto"},f={class:"product-card row"},g={class:"col-12"},y={class:"col-12"},b={class:"col-12"},w=["onClick"],S=h((()=>(0,a._)("br",null,null,-1))),k={class:"mt-5"};function C(e,t,n,l,r,s){const i=(0,a.up)("ShoppingCart"),d=(0,a.up)("router-link"),c=(0,a.up)("loading"),u=(0,a.up)("Layout01");return(0,a.wg)(),(0,a.j4)(u,null,{contents:(0,a.w5)((()=>[(0,a.Wm)(i,{ref:"shoppingCart"},null,512),(0,a._)("div",v,[(0,a._)("div",{class:(0,p.C_)(["text-center",s.customClass()])},"商品:",2),(0,a._)("div",null,[(0,a.Uk)(" 搜尋: "),(0,a.wy)((0,a._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.searchText=e)},null,512),[[o.nr,r.searchText]]),(0,a._)("button",{class:"pointer",onClick:t[1]||(t[1]=e=>s.search())},"搜尋結果")]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.products,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("div",f,[(0,a._)("div",g,"編號: "+(0,p.zw)(t+1),1),(0,a._)("div",y,"商品名稱: "+(0,p.zw)(e.name),1),(0,a._)("div",b,"商品價格: "+(0,p.zw)(e.price),1),(0,a._)("button",{class:"col-1 btn btn-danger pointer",onClick:t=>s.addToCart(e,3)}," 加入一個 ",8,w),S])])))),128)),(0,a._)("div",k,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.cartsSelect,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:e.id},[(0,a._)("div",null,"商品名稱: "+(0,p.zw)(e.name)+" 數量: "+(0,p.zw)(e.qty),1)])))),128))]),(0,a.Wm)(d,{to:r.notFoundLink},{default:(0,a.w5)((()=>[(0,a.Uk)("購物車")])),_:1},8,["to"])]),(0,a.Wm)(c,{active:r.loading},null,8,["active"])])),_:1})}n(7658);var M={data(){return{notFoundLink:"/notfound",headers:{},products:null,searchText:"",loading:!1}},setup(){const e=(0,u.tv)(),t=((0,u.yj)(),()=>{e.push("/notfound")});return{toNotFound:t}},mounted(){this.GetProducts()},methods:{goNotFound(){this.toNotFound()},customClass(){return"test"},search(){alert(this.searchText)},async GetProducts(){await this.$axios.get("api/ShoppingCart/GetProducts").then((e=>{e.data&&(this.products=e.data.data,console.log(this.products))})).catch((e=>{console.log(err.response.data)}))},async addToCart(e,t){this.$refs.shoppingCart.addToCart(e,t)}},components:{}};const x=(0,i.Z)(M,[["render",C],["__scopeId","data-v-224c39b0"]]);var _=x;const T=["action"],D=["value"],P=["value"],I=["value"],B=["value"],F=["value"],L=["value"],O=["value"],N=["value"],A=["value"],U=["value"],j=["value"],q=["value"],R=["value"],$=["value"],W=["value"],E=["value"],Z=["value"],H=["value"],Q=["value"],z=["value"],G=["value"],V=["value"],J=["value"],K=["value"],Y=["value"],X=["value"],ee=["value"];function te(e,t,n,o,l,r){const s=(0,a.up)("loading"),i=(0,a.up)("Layout01");return(0,a.wg)(),(0,a.j4)(i,null,{contents:(0,a.w5)((()=>[(0,a._)("form",{action:l.trendModels.url,method:"post",id:"payment"},[(0,a._)("input",{type:"hidden",name:"MerchantID",value:l.trendModels.merchantID},null,8,D),(0,a._)("input",{type:"hidden",name:"MerchantTradeNo",value:l.trendModels.merchantTradeNo},null,8,P),(0,a._)("input",{type:"hidden",name:"MerchantTradeDate",value:l.trendModels.merchantTradeDate},null,8,I),(0,a._)("input",{type:"hidden",name:"PaymentType",value:l.trendModels.paymentType},null,8,B),(0,a._)("input",{type:"hidden",name:"TotalAmount",value:l.trendModels.totalAmount},null,8,F),(0,a._)("input",{type:"hidden",name:"TradeDesc",value:l.trendModels.tradeDesc},null,8,L),(0,a._)("input",{type:"hidden",name:"ItemName",value:l.trendModels.itemName},null,8,O),(0,a._)("input",{type:"hidden",name:"ReturnURL",value:l.trendModels.returnURL},null,8,N),(0,a._)("input",{type:"hidden",name:"ChoosePayment",value:l.trendModels.choosePayment},null,8,A),(0,a._)("input",{type:"hidden",name:"CheckMacValue",value:l.trendModels.checkMacValue},null,8,U),(0,a._)("input",{type:"hidden",name:"EncryptType",value:l.trendModels.encryptType},null,8,j),l.trendModels.storeID?((0,a.wg)(),(0,a.iD)("input",{key:0,type:"hidden",name:"StoreID",value:l.trendModels.storeID},null,8,q)):(0,a.kq)("",!0),l.trendModels.clientBackURL?((0,a.wg)(),(0,a.iD)("input",{key:1,type:"hidden",name:"ClientBackURL",value:l.trendModels.clientBackURL},null,8,R)):(0,a.kq)("",!0),l.trendModels.itemURL?((0,a.wg)(),(0,a.iD)("input",{key:2,type:"hidden",name:"ItemURL",value:l.trendModels.itemURL},null,8,$)):(0,a.kq)("",!0),l.trendModels.remark?((0,a.wg)(),(0,a.iD)("input",{key:3,type:"hidden",name:"Remark",value:l.trendModels.remark},null,8,W)):(0,a.kq)("",!0),l.trendModels.chooseSubPayment?((0,a.wg)(),(0,a.iD)("input",{key:4,type:"hidden",name:"ChooseSubPayment",value:l.trendModels.chooseSubPayment},null,8,E)):(0,a.kq)("",!0),l.trendModels.orderResultURL?((0,a.wg)(),(0,a.iD)("input",{key:5,type:"hidden",name:"OrderResultURL",value:l.trendModels.orderResultURL},null,8,Z)):(0,a.kq)("",!0),l.trendModels.needExtraPaidInfo?((0,a.wg)(),(0,a.iD)("input",{key:6,type:"hidden",name:"NeedExtraPaidInfo",value:l.trendModels.needExtraPaidInfo},null,8,H)):(0,a.kq)("",!0),l.trendModels.ignorePayment?((0,a.wg)(),(0,a.iD)("input",{key:7,type:"hidden",name:"IgnorePayment",value:l.trendModels.ignorePayment},null,8,Q)):(0,a.kq)("",!0),l.trendModels.platformID?((0,a.wg)(),(0,a.iD)("input",{key:8,type:"hidden",name:"PlatformID",value:l.trendModels.platformID},null,8,z)):(0,a.kq)("",!0),l.trendModels.invoiceMark?((0,a.wg)(),(0,a.iD)("input",{key:9,type:"hidden",name:"InvoiceMark",value:l.trendModels.invoiceMark},null,8,G)):(0,a.kq)("",!0),l.trendModels.customField1?((0,a.wg)(),(0,a.iD)("input",{key:10,type:"hidden",name:"CustomField1",value:l.trendModels.customField1},null,8,V)):(0,a.kq)("",!0),l.trendModels.customField2?((0,a.wg)(),(0,a.iD)("input",{key:11,type:"hidden",name:"CustomField2",value:l.trendModels.customField2},null,8,J)):(0,a.kq)("",!0),l.trendModels.customField3?((0,a.wg)(),(0,a.iD)("input",{key:12,type:"hidden",name:"CustomField3",value:l.trendModels.customField3},null,8,K)):(0,a.kq)("",!0),l.trendModels.customField4?((0,a.wg)(),(0,a.iD)("input",{key:13,type:"hidden",name:"CustomField4",value:l.trendModels.CustomField4},null,8,Y)):(0,a.kq)("",!0),l.trendModels.language?((0,a.wg)(),(0,a.iD)("input",{key:14,type:"hidden",name:"Language",value:l.trendModels.language},null,8,X)):(0,a.kq)("",!0),l.trendModels.unionPay?((0,a.wg)(),(0,a.iD)("input",{key:15,type:"hidden",name:"UnionPay",value:l.trendModels.unionPay},null,8,ee)):(0,a.kq)("",!0)],8,T),(0,a.Wm)(s,{active:l.loading},null,8,["active"])])),_:1})}var ne={data(){return{notFoundLink:"/notfound",loading:!1,trendModels:null,errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const e=(0,u.tv)(),t=((0,u.yj)(),()=>{e.push("/homepage")});return{toHomePage:t}},created(){this.trendModels=JSON.parse(sessionStorage.getItem("CartTrendModels")),sessionStorage.removeItem("CartTrendModels"),this.trendModels||(this.errSweetAlert.text="未傳入訂單資訊",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text="",this.toHomePage())},mounted(){document.getElementById("payment").submit()},methods:{},components:{}};const oe=(0,i.Z)(ne,[["render",te]]);var ae=oe;function le(e,t,n,o,l,r){const s=(0,a.up)("loading"),i=(0,a.up)("Layout01");return(0,a.wg)(),(0,a.j4)(i,null,{contents:(0,a.w5)((()=>[(0,a.Uk)(" 此頁為結帳結果頁，將綠界交易資訊傳回顯示 "),(0,a.Wm)(s,{active:l.loading},null,8,["active"])])),_:1})}var re={data(){return{notFoundLink:"/notfound",loading:!1,trendModels:null,errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const e=(0,u.tv)(),t=((0,u.yj)(),()=>{e.push("/homepage")});return{toHomePage:t}},methods:{},components:{}};const se=(0,i.Z)(re,[["render",le]]);var ie=se;const de={class:"test123"};function ce(e,t,n,o,l,r){return(0,a.wg)(),(0,a.iD)("div",de,"Not Found 404")}var ue={name:"NotFound"};const me=(0,i.Z)(ue,[["render",ce]]);var pe=me;m.Z.defaults.baseURL="/";const he=[{path:"/",redirect:"/homepage"},{path:"/homepage",component:_,name:"homepage"},{path:"/checkout",component:ae,name:"checkout"},{path:"/checkoutreport",component:ie,name:"checkoutreport"},{path:"/:pathMatch(.*)*",name:"NotFound",component:pe,props:e=>e.params}],ve=(0,u.p7)({history:(0,u.PO)(),routes:he});ve.afterEach(((e,t)=>{let n=document.body.scrollTop;if(0!==n)return void(document.body.scrollTop=0);let o=document.documentElement.scrollTop;0!==o&&(document.documentElement.scrollTop=0)}));var fe=ve,ge=(n(8877),n(3636)),ye=n(7810),be=n(9417),we=n(3982),Se=n.n(we),ke=n(2369),Ce=n.n(ke);const Me=e=>((0,a.dD)("data-v-3c5e901a"),e=e(),(0,a.Cn)(),e),xe={class:"container-fluid layout01 px-0"},_e=Me((()=>(0,a._)("div",{class:"header w-100"},"網頁Header",-1))),Te=Me((()=>(0,a._)("div",{class:"footer w-100"},"網頁Footer",-1)));function De(e,t,n,o,l,r){return(0,a.wg)(),(0,a.iD)("div",xe,[_e,(0,a.WI)(e.$slots,"contents",{class:"body w-100"},void 0,!0),Te])}var Pe={components:{}};const Ie=(0,i.Z)(Pe,[["render",De],["__scopeId","data-v-3c5e901a"]]);var Be=Ie;const Fe=e=>((0,a.dD)("data-v-ed196bea"),e=e(),(0,a.Cn)(),e),Le={class:"row d-flex justify-content-center align-items-center h-100 w-75 mt-5 mx-auto"},Oe={class:"col-10"},Ne=(0,a.uE)('<div class="d-flex justify-content-between align-items-center mb-4" data-v-ed196bea><h3 class="fw-normal mb-0 text-black" data-v-ed196bea>Shopping Cart</h3><div data-v-ed196bea><p class="mb-0" data-v-ed196bea><span class="text-muted" data-v-ed196bea>Sort by:</span><a class="text-body" data-v-ed196bea>price <i class="fas fa-angle-down mt-1" data-v-ed196bea></i></a></p></div></div>',1),Ae={class:"card rounded-3 mb-4"},Ue={class:"card-body p-4"},je=Fe((()=>(0,a._)("div",{class:"col-md-2 col-lg-2 col-xl-2"},[(0,a._)("img",{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-shopping-carts/img1.webp",class:"img-fluid rounded-3",alt:"Cotton T-shirt"})],-1))),qe={class:"col-md-3 col-lg-3 col-xl-3"},Re={class:"lead fw-normal mb-2"},$e={class:"col-md-3 col-lg-3 col-xl-2 d-flex"},We={class:"btn btn-link px-2 pointer"},Ee=["onUpdate:modelValue","onBlur"],Ze={class:"btn btn-link px-2 pointer"},He={class:"col-md-3 col-lg-2 col-xl-2 offset-lg-1"},Qe={class:"mb-0"},ze={class:"col-md-1 col-lg-1 col-xl-1 text-end pointer"},Ge=["onClick"],Ve=(0,a.uE)('<div class="card mb-4" data-v-ed196bea><div class="card-body p-4 d-flex flex-row" data-v-ed196bea><div class="form-outline flex-fill" data-v-ed196bea><input type="text" id="form1" class="form-control form-control-lg" data-v-ed196bea><label class="form-label" for="form1" data-v-ed196bea>Discound code</label></div><button type="button" class="btn btn-outline-warning btn-lg ms-3" data-v-ed196bea> Apply </button></div></div>',1),Je={class:"card"},Ke={class:"card-body"};function Ye(e,t,n,l,r,s){const i=(0,a.up)("font-awesome-icon"),d=(0,a.up)("loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",Le,[(0,a._)("div",Oe,[Ne,(0,a._)("div",Ae,[(0,a._)("div",Ue,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(r.cartsSelect,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"row mt-3 d-flex justify-content-between align-items-center",key:e.Id},[je,(0,a._)("div",qe,[(0,a._)("p",Re,(0,p.zw)(e.Name),1)]),(0,a._)("div",$e,[(0,a._)("button",We,[(0,a.Wm)(i,{icon:"fas fa-minus",onClick:(0,o.iM)((n=>s.addToCart(e,1,`.count-input-${t}`)),["stop"])},null,8,["onClick"])]),(0,a.wy)((0,a._)("input",{class:(0,p.C_)(["form-control form-control-sm",`count-input-${t}`]),min:"0",default:"1","onUpdate:modelValue":t=>e.Qty=t,type:"number",onBlur:(0,o.iM)((n=>s.addToCart(e,2,`.count-input-${t}`)),["stop"])},null,42,Ee),[[o.nr,e.Qty]]),(0,a._)("button",Ze,[(0,a.Wm)(i,{icon:"fas fa-plus",onClick:(0,o.iM)((n=>s.addToCart(e,0,`.count-input-${t}`)),["stop"])},null,8,["onClick"])])]),(0,a._)("div",He,[(0,a._)("h5",Qe,"$"+(0,p.zw)(e.Price*e.Qty),1)]),(0,a._)("div",ze,[(0,a._)("a",{class:"text-danger",onClick:(0,o.iM)((t=>s.removeCartItem(e)),["stop"])},[(0,a.Wm)(i,{icon:"fas fa-trash"})],8,Ge)])])))),128))])]),Ve,(0,a._)("div",Je,[(0,a._)("div",Ke,[(0,a._)("button",{type:"button",class:"btn btn-warning btn-block btn-lg pointer",onClick:t[0]||(t[0]=(0,o.iM)(((...e)=>s.cartSubmit&&s.cartSubmit(...e)),["stop"]))}," Proceed to Pay ")])])])]),(0,a.Wm)(d,{active:r.loading},null,8,["active"])],64)}var Xe={data(){return{notFoundLink:"/notfound",headers:{},products:null,cartsSelect:[],searchText:"",loading:!1,delSweetConfirm:{title:"要刪除此項目嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#ff7674",cancelButtonColor:"#777",confirmButtonText:"刪除",cancelButtonText:"取消"},buySweetConfirm:{title:"確定要購買嗎",icon:"warning",showCancelButton:!0,confirmButtonColor:"#41b882",cancelButtonColor:"#777",confirmButtonText:"購買",cancelButtonText:"取消"},successSweetAlert:{title:"成功",icon:"success",confirmButtonText:"確定",confirmButtonColor:"#41b882"},errSweetAlert:{title:"錯誤",icon:"error",confirmButtonText:"確定",confirmButtonColor:"#41b882"}}},setup(){const e=(0,u.tv)(),t=((0,u.yj)(),()=>{e.push("/notfound")}),n=()=>{e.push("/checkout")};return{toNotFound:t,toCheckOut:n}},mounted(){this.getStorageCart()},methods:{saveLocalStorage(e,t){localStorage.setItem(e,JSON.stringify(t))},getlocalStorage(e){this[e]=JSON.parse(localStorage.getItem(e))},goNotFound(){this.toNotFound()},customClass(){return"test"},search(){alert(this.searchText)},async GetProducts(){await this.$axios.get("api/ShoppingCart/GetProducts").then((e=>{e.data&&(this.products=e.data.data,console.log(this.products))})).catch((e=>{console.log(err.response.data)}))},getStorageCart(){this.getlocalStorage("cartsSelect"),this.cartsSelect||(this.cartsSelect=[])},rmStorageCart(){localStorage.removeItem("cartsSelect"),this.cartsSelect=[]},async addToCart(e,t,n){if(3!=t){let o=document.querySelector(n),a=o.value,l=this.cartsSelect.indexOf(e);if(console.log("findIndex",l),console.log("input",o),console.log("count",a),1==t&&1==a)return void this.removeCartItem(e);if(2==t&&0==a)return void this.removeCartItem(e,!0);switch(t){case 0:this.cartsSelect[l].Qty++;break;case 1:this.cartsSelect[l].Qty--;break;case 2:this.cartsSelect[l].Qty=a;break}this.saveLocalStorage("cartsSelect",this.cartsSelect)}else{let t=this.cartsSelect.find((t=>t.Id==e.id));if(console.log("findProduct add",t),t){let e=this.cartsSelect.indexOf(t);this.cartsSelect[e].Qty++}else this.cartsSelect.push({Id:e.id,Qty:1,Name:e.name,Price:e.price});this.saveLocalStorage("cartsSelect",this.cartsSelect)}console.log(this.cartsSelect)},async removeCartItem(e,t){let n=this.cartsSelect.indexOf(e);n>-1&&this.$swal.fire(this.delSweetConfirm).then((e=>{e.isConfirmed?(this.cartsSelect.splice(n,1),this.saveLocalStorage("cartsSelect",this.cartsSelect)):t&&this.getlocalStorage("cartsSelect")}))},async cartSubmit(){await this.$swal.fire(this.buySweetConfirm).then((e=>{if(e.isConfirmed){let e={MemberId:1,State:0,CartProducts:Array.from(this.cartsSelect)};this.loading=!0,this.$axios.post("api/ShoppingCart/SaveShoppingCart",e).then((e=>{204!=e.status&&200!=e.status||null!==e.data&void 0!==e.data&&(this.successSweetAlert.text=e.data.messsage,this.$swal.fire(this.successSweetAlert),this.successSweetAlert.text="",console.log(e.data.data),this.rmStorageCart(),sessionStorage.setItem("CartTrendModels",JSON.stringify(e.data.data.formData)),this.toCheckOut(),this.loading=!1)})).catch((e=>{console.log(e.response.data),this.errSweetAlert.text=e.response.data.messsage||"其他錯誤",this.$swal.fire(this.errSweetAlert),this.errSweetAlert.text="",this.loading=!1}))}}))}},components:{}};const et=(0,i.Z)(Xe,[["render",Ye],["__scopeId","data-v-ed196bea"]]);var tt=et;ge.vI.add(be.BC0,be.wp6,be.r8p,be.Kl4,be.$aW);const nt={confirmButtonColor:"#41b882",cancelButtonColor:"#ff7674"},ot=(0,o.ri)(c);ot.component("font-awesome-icon",ye.GN).component("Loading",Ce()).component("Layout01",Be).component("ShoppingCart",tt).use(Se(),nt).use(fe).mount("#app"),m.Z.defaults.baseURL="/",ot.config.globalProperties.$axios=m.Z}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,o,a,l){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],l=e[c][2];for(var s=!0,i=0;i<o.length;i++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](o[i])}))?o.splice(i--,1):(s=!1,l<r&&(r=l));if(s){e.splice(c--,1);var d=a();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,a,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,r=o[0],s=o[1],i=o[2],d=0;if(r.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(i)var c=i(n)}for(t&&t(o);d<r.length;d++)l=r[d],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},o=self["webpackChunkvuetest"]=self["webpackChunkvuetest"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(5580)}));o=n.O(o)})();